<!DOCTYPE html>
<html lang="en" xmlns:v-on="http://www.w3.org/1999/xhtml" xmlns:v-bind="http://www.w3.org/1999/xhtml">
<head>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
          integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <meta charset="UTF-8">
    <title>Index</title>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
</head>
<body class="bg-light">

<div class="container">
    <div class="card shadow-lg p-3 mb-5 bg-white rounded-lg mt-lg-5" style="width: 100%;">
        <div class="card-body">
            <h2 class="card-title text-center">网易云歌单爬取</h2>
            <a href="chart.html" class="mt-sm-3 mb-sm-3" target="view_window">查看评论数量对比</a>
            <div id="div-search">
                <div class="row mt-sm-3 mb-sm-3">
                    <div class="col-11">
                        <input v-model="key_word" placeholder="要爬取的歌单名称(如果歌单里的歌曲数量比较多,爬取时间(主要是爬取评论的时间)将会较慢,请耐心等候)"
                               class="form-control">
                    </div>
                    <div class="col-1">
                        <input type="button" v-on:click="search" value="搜索" class="btn btn-primary">
                    </div>
                </div>
                <div class="row progress" v-if="progressing">
                    <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar"
                         style="width: 100%"></div>
                </div>
            </div>
            <div class="row mt-3 mb-3" id="div-create">
                <div class="col-3 mr-0 pr-0">
                    <input v-model.trim="name" placeholder="歌曲名称" class="form-control"
                           style="border-bottom-right-radius: 0; border-top-right-radius: 0;">
                </div>
                <div class="col-2 m-0 p-0">
                    <input v-model.number="url_id" placeholder="歌曲id(数字)" class="form-control rounded-0">
                </div>
                <div class="col-2 m-0 p-0">
                    <input v-model.trim="time" placeholder="歌曲时长" class="form-control rounded-0">
                </div>
                <div class="col-1 m-0 p-0">
                    <input v-model.number="comment" placeholder="评论数" class="form-control rounded-0">
                </div>
                <div class="col-1 m-0 p-0">
                    <input v-model.trim="singer" placeholder="歌手" class="form-control rounded-0">
                </div>
                <div class="col-2 ml-0 pl-0">
                    <input v-model.trim="album" placeholder="专辑" class="form-control"
                           style="border-bottom-left-radius: 0; border-top-left-radius: 0;">
                </div>
                <div class="col-1">
                    <input type="button" v-on:click="create" class="btn btn-success" value="添加">
                </div>
            </div>


            <div id="div-update" class="mt-sm-3 mb-sm-3">
                请选择你要操作的歌曲
                <select v-model="selected" v-on:change="change" class="custom-select">
                    <option disabled value="">请选择</option>
                    <option v-for="PlayList in getPlayLists()" v-bind:value="PlayList">{{ PlayList.name }}</option>
                </select>
                <div class="row mt-3 mb-3" v-if="!hidden">
                    <div class="col-3 mr-0 pr-0">
                        <input v-model.trim="selected.name" placeholder="歌曲名称" class="form-control"
                               style="border-bottom-right-radius: 0; border-top-right-radius: 0;">
                    </div>
                    <div class="col-2 m-0 p-0">
                        <input v-model.number="selected.url_id" placeholder="歌曲id(数字)" class="form-control rounded-0">
                    </div>
                    <div class="col-1 m-0 p-0">
                        <input v-model.trim="selected.time" placeholder="歌曲时长" class="form-control rounded-0">
                    </div>
                    <div class="col-1 m-0 p-0">
                        <input v-model.number="selected.comment" placeholder="评论数" class="form-control rounded-0">
                    </div>
                    <div class="col-1 m-0 p-0">
                        <input v-model.trim="selected.singer" placeholder="歌手" class="form-control rounded-0">
                    </div>
                    <div class="col-2 m-0 p-0">
                        <input v-model.trim="selected.album" placeholder="专辑" class="form-control rounded-0">
                    </div>
                    <div class="btn-group col-2 ml-0 pl-0" role="group">
                        <input type="button" v-on:click="update" class="btn btn-success rounded-0" value="更新">
                        <button v-on:click="destroy" class="btn btn-danger">删除</button>
                    </div>
                </div>
            </div>
            <h5>左键单击歌曲名即可播放</h5>
            <table class="table table-striped table-sm table-bordered border" id="table1">
                <thead class="thead-dark">
                <tr>
                    <td>id</td>
                    <td>歌曲名</td>
                    <td>歌曲时长</td>
                    <td>评论数</td>
                    <td>歌手</td>
                    <td>专辑</td>
                </tr>
                </thead>
                <tbody>
                <tr v-for="i in PlayLists">
                    <td>{{ i.id }}</td>
                    <td><a v-bind:href="i.url" target="view_window">{{ i.name }}</a></td>
                    <td>{{ i.time }}</td>
                    <td>{{ i.comment }}</td>
                    <td>{{ i.singer }}</td>
                    <td>{{ i.album }}</td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"
        integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>
</body>

<script src="js/play_list.js"></script>
</html>